{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Analiza Matematyczna Walidacji Modeli Predykcyjnych Sprzeda\u017cy Netto","text":""},{"location":"#1-cel-i-definicja-problemu","title":"1. Cel i Definicja Problemu","text":"<p>Celem dokumentu jest zdefiniowanie matematycznych ram walidacji modeli predykcyjnych prognozuj\u0105cych sprzeda\u017c netto.</p> <p>W niniejszym opracowaniu przyjmujemy zintegrowane podej\u015bcie do oceny jako\u015bci modelu. Definiujemy \"b\u0142\u0105d modelu\" jako poj\u0119cie wielowymiarowe, na kt\u00f3re sk\u0142adaj\u0105 si\u0119 jednocze\u015bnie:</p> <ol> <li>Odchylenie od warto\u015bci rzeczywistej (dok\u0142adno\u015b\u0107).</li> <li>Odchylenie od w\u0142asnych wcze\u015bniejszych predykcji (stabilno\u015b\u0107).</li> </ol> <p>Model niestabilny jest matematycznie traktowany jako model obarczony b\u0142\u0119dem na wymiarach r\u00f3\u017cnicowych. Realizujemy to poprzez konstrukcj\u0119 Wektora Rozszerzonego (Augmented Vector), kt\u00f3ry agreguje wszystkie typy b\u0142\u0119d\u00f3w w jeden obiekt podlegaj\u0105cy ocenie.</p>"},{"location":"#2-zaozenia-wstepne","title":"2. Za\u0142o\u017cenia Wst\u0119pne","text":"<ul> <li>Poprawno\u015b\u0107 Metodologiczna: Zak\u0142adamy, \u017ce dostarczone szeregi czasowe s\u0105 poprawne technicznie (poprawnie wytrenowane/wygenerowane).</li> <li>Por\u00f3wnywalno\u015b\u0107: Wszystkie modele (Data Science oraz Biznesowe) operuj\u0105 na tych samych danych wej\u015bciowych i celuj\u0105 w t\u0119 sam\u0105 definicj\u0119 sprzeda\u017cy netto.</li> <li>Jednostka Czasu: Analiza dotyczy predykcji dziennych w obr\u0119bie jednego miesi\u0105ca (\\(N\\) dni).</li> </ul>"},{"location":"#3-formalizacja-matematyczna-rozszerzanie-przestrzeni","title":"3. Formalizacja Matematyczna: Rozszerzanie Przestrzeni","text":"<p>Niech \\(y_{real} \\in \\mathbb{R}\\) oznacza rzeczywist\u0105 sprzeda\u017c na koniec miesi\u0105ca. Niech \\(\\mathbf{P} = [\\hat{y}_1, \\dots, \\hat{y}_N]\\) oznacza wektor predykcji modelu w kolejnych dniach miesi\u0105ca.</p>"},{"location":"#31-bazowy-wektor-bedow-komponent-0-rzedu","title":"3.1. Bazowy Wektor B\u0142\u0119d\u00f3w (Komponent 0-rz\u0119du)","text":"<p>Podstawowym elementem oceny jest wektor b\u0142\u0119d\u00f3w wzgl\u0119dem warto\u015bci rzeczywistej.</p> \\[ \\mathbf{E}^{(0)} = [e_1, e_2, \\dots, e_N], \\quad \\text{gdzie } e_t = \\mathcal{L}(\\hat{y}_t, y_{real}) \\] <p>Funkcja \\(\\mathcal{L}\\) okre\u015bla miar\u0119 odleg\u0142o\u015bci (np. b\u0142\u0105d bezwzgl\u0119dny, procentowy).</p>"},{"location":"#32-wektory-roznicowe-komponenty-wyzszych-rzedow-shift","title":"3.2. Wektory R\u00f3\u017cnicowe (Komponenty wy\u017cszych rz\u0119d\u00f3w - Shift)","text":"<p>Uzupe\u0142niamy opis modelu o informacj\u0119 dotycz\u0105c\u0105 jego wewn\u0119trznej sp\u00f3jno\u015bci w czasie. Definiujemy komponenty dla ka\u017cdego przesuni\u0119cia (shift) \\(k\\) od \\(1\\) do \\(S\\).</p> <p>Dla przesuni\u0119cia \\(k\\):</p> \\[ \\mathbf{E}^{(k)} = [\\delta^{(k)}_{k+1}, \\dots, \\delta^{(k)}_N] \\] <p>Gdzie element wektora to r\u00f3\u017cnica mi\u0119dzy predykcjami oddalonymi o \\(k\\) dni:</p> \\[ \\delta^{(k)}_t = \\mathcal{L}(\\hat{y}_t, \\hat{y}_{t-k}) \\] <p>Wektory \\(\\mathbf{E}^{(k)}\\) maj\u0105 wymiar \\(N-k\\).</p>"},{"location":"#33-konstrukcja-wektora-rozszerzonego-augmented-vector","title":"3.3. Konstrukcja Wektora Rozszerzonego (Augmented Vector)","text":"<p>Definiujemy jeden, sp\u00f3jny Wektor Rozszerzony \\(\\mathbb{E}_{aug}\\), b\u0119d\u0105cy konkatenacj\u0105 b\u0142\u0119du bazowego i b\u0142\u0119d\u00f3w r\u00f3\u017cnicowych.</p> <p>Dla zadanego maksymalnego rz\u0119du przesuni\u0119cia \\(S\\):</p> \\[ \\mathbb{E}_{aug} = \\left[ \\mathbf{E}^{(0)}, \\mathbf{E}^{(1)}, \\dots, \\mathbf{E}^{(S)} \\right] \\] <p>Ka\u017cdy element tego wektora reprezentuje sk\u0142adow\u0105 ca\u0142kowitego b\u0142\u0119du modelu.</p>"},{"location":"#4-definicja-miary-struktura-przestrzeni-hilberta","title":"4. Definicja Miary (Struktura Przestrzeni Hilberta)","text":"<p>Ocena jako\u015bci modelu sprowadza si\u0119 do rzutowania wielowymiarowej przestrzeni b\u0142\u0119d\u00f3w na pojedyncz\u0105 warto\u015b\u0107 skalarn\u0105 (score). Aby zachowa\u0107 rygor matematyczny i elastyczno\u015b\u0107 biznesow\u0105, definicj\u0119 metryki opieramy na wa\u017conym iloczynie skalarnym, rozszerzonym o globalne parametry steruj\u0105ce.</p>"},{"location":"#41-przestrzen-wag-czasowych","title":"4.1. Przestrze\u0144 Wag Czasowych","text":"<p>Analogicznie do definicji wektor\u00f3w b\u0142\u0119d\u00f3w \\(\\mathbf{E}^{(k)}\\), definiujemy odpowiadaj\u0105ce im wektory wag czasu, kt\u00f3re parametryzuj\u0105 funkcj\u0119 kosztu w zale\u017cno\u015bci od dnia miesi\u0105ca.</p> <p>Dla komponentu bazowego (\\(k=0\\)) oraz ka\u017cdego rz\u0119du przesuni\u0119cia (\\(k \\in \\{1, \\dots, S\\}\\)) przyjmujemy wektory wag:</p> \\[ \\mathbf{W}^{(0)} \\in \\mathbb{R}^N, \\quad \\mathbf{W}^{(k)} \\in \\mathbb{R}^{N-k} \\] <p>Elementy tych wektor\u00f3w, oznaczone odpowiednio \\(w_t^{(0)}\\) oraz \\(w_j^{(k)}\\), s\u0105 wyznaczane przez przyj\u0119te funkcje czasu (np. rosn\u0105ca penalizacja w miar\u0119 zbli\u017cania si\u0119 do ko\u0144ca miesi\u0105ca).</p>"},{"location":"#42-globalne-parametry-sterujace","title":"4.2. Globalne Parametry Steruj\u0105ce","text":"<p>Aby umo\u017cliwi\u0107 biznesowe sterowanie priorytetami (wyb\u00f3r mi\u0119dzy modelem \"dok\u0142adnym\" a \"stabilnym\"), wprowadzamy dwa globalne skalary (mno\u017cniki):</p> <ul> <li>\\(\\alpha\\) (alpha) \u2013 Waga Dok\u0142adno\u015bci (Accuracy Weight): Globalny mno\u017cnik dla b\u0142\u0119d\u00f3w wzgl\u0119dem warto\u015bci rzeczywistej.</li> <li>\\(\\beta\\) (beta) \u2013 Waga Stabilno\u015bci (Stability Weight): Globalny mno\u017cnik dla b\u0142\u0119d\u00f3w r\u00f3\u017cnicowych (zmienno\u015bci predykcji).</li> </ul>"},{"location":"#43-definicja-metryki-finalnej-mathcalm_total","title":"4.3. Definicja Metryki Finalnej (\\(\\mathcal{M}_{total}\\))","text":"<p>Ca\u0142kowit\u0105 miar\u0119 b\u0142\u0119du modelu \\(\\mathcal{M}_{total}\\) definiujemy jako sum\u0119 wa\u017conych iloczyn\u00f3w skalarnych, przemno\u017con\u0105 przez odpowiednie parametry globalne.</p> <p>Niech \\(\\langle \\mathbf{A}, \\mathbf{B} \\rangle\\) oznacza standardowy iloczyn skalarny wektor\u00f3w w przestrzeni euklidesowej: \\(\\langle \\mathbf{A}, \\mathbf{B} \\rangle = \\sum a_i b_i\\).</p> <p>Wz\u00f3r og\u00f3lny przyjmuje posta\u0107:</p> \\[ \\mathcal{M}_{total} = \\alpha \\cdot \\underbrace{ \\langle \\mathbf{W}^{(0)}, \\mathbf{E}^{(0)} \\rangle }_{\\text{Sk\u0142adowa Dok\u0142adno\u015bci}} + \\beta \\cdot \\sum_{k=1}^{S} \\underbrace{ \\langle \\mathbf{W}^{(k)}, \\mathbf{E}^{(k)} \\rangle }_{\\text{Sk\u0142adowa Stabilno\u015bci rz\u0119du } k} \\]"},{"location":"#44-postac-jawna-szeregowa","title":"4.4. Posta\u0107 Jawna (Szeregowa)","text":"<p>Rozwijaj\u0105c powy\u017cszy zapis do postaci sumy po elementach, otrzymujemy jawn\u0105 formu\u0142\u0119 obliczeniow\u0105 zaimplementowan\u0105 w systemie:</p> \\[ \\mathcal{M}_{total} = \\alpha \\sum_{t=1}^{N} w_t^{(0)} e_t + \\beta \\sum_{k=1}^{S} \\left( \\sum_{j=1}^{N-k} w_j^{(k)} \\delta_j^{(k)} \\right) \\] <p>Gdzie:</p> <ul> <li>Pierwszy cz\u0142on to wa\u017cona suma b\u0142\u0119d\u00f3w predykcji, skalowana przez parametr \\(\\alpha\\).</li> <li>Drugi cz\u0142on to suma kar za niestabilno\u015b\u0107 (dla wszystkich przesuni\u0119\u0107 \\(k\\)), skalowana przez parametr \\(\\beta\\).</li> </ul> <p>Tak zdefiniowana metryka \\(\\mathcal{M}_{total}\\) jest wielko\u015bci\u0105, kt\u00f3r\u0105 nale\u017cy minimalizowa\u0107.</p>"},{"location":"#5-przykad-obliczeniowy-case-study","title":"5. Przyk\u0142ad Obliczeniowy (Case Study)","text":"<p>Poni\u017cszy przyk\u0142ad obrazuje mechanik\u0119 obliczania metryki dla uproszczonego, 5-elementowego szeregu z uwzgl\u0119dnieniem parametr\u00f3w globalnych.</p> <p>Dane wej\u015bciowe:</p> <ul> <li>Rzeczywista sprzeda\u017c (\\(y_{real}\\)): 100</li> <li>Predykcje modelu (\\(\\mathbf{P}\\)): [90, 95, 110, 102, 100]</li> <li>Konfiguracja Globalna:<ul> <li>Waga Dok\u0142adno\u015bci (\\(\\alpha\\)): 1.0</li> <li>Waga Stabilno\u015bci (\\(\\beta\\)): 2.0 (Priorytetyzujemy stabilno\u015b\u0107 nad precyzj\u0119).</li> </ul> </li> </ul>"},{"location":"#krok-1-budowa-komponentow-wektora-bad-bezwzgledny","title":"Krok 1: Budowa Komponent\u00f3w Wektora (B\u0142\u0105d bezwzgl\u0119dny)","text":"<ol> <li> <p>Komponent Bazowy (B\u0142\u0105d vs Real): \\(\\mathbf{E}^{(0)} = [10, 5, 10, 2, 0]\\)</p> </li> <li> <p>Komponent Shift=1 (Zmienno\u015b\u0107 dzie\u0144-do-dnia): \\(\\mathbf{E}^{(1)} = [5, 15, 8, 2]\\)</p> </li> <li> <p>Komponent Shift=2 (Zmienno\u015b\u0107 co 2 dni): \\(\\mathbf{E}^{(2)} = [20, 7, 10]\\)</p> </li> </ol>"},{"location":"#krok-2-aplikacja-wag-czasowych-wewnatrz-skadowych","title":"Krok 2: Aplikacja Wag Czasowych (Wewn\u0105trz sk\u0142adowych)","text":"<p>Przyjmujemy wagi rosn\u0105ce liniowo dla przyk\u0142adu. * \\(\\mathbf{W}^{(0)} = [1.0, 2.0, 3.0, 4.0, 5.0]\\) * \\(\\mathbf{W}^{(1)} = [0.2, 0.4, 0.6, 0.8]\\) * \\(\\mathbf{W}^{(2)} = [0.3, 0.6, 0.9]\\)</p> <p>Obliczamy \"surowe\" iloczyny skalarne (przed aplikacj\u0105 \\(\\alpha\\) i \\(\\beta\\)):</p> <ol> <li> <p>Surowa Dok\u0142adno\u015b\u0107: \\((10\\cdot1) + (5\\cdot2) + (10\\cdot3) + (2\\cdot4) + (0\\cdot5) = 10 + 10 + 30 + 8 + 0 = \\mathbf{58.0}\\)</p> </li> <li> <p>Surowa Stabilno\u015b\u0107 (Shift 1): \\((5\\cdot0.2) + (15\\cdot0.4) + (8\\cdot0.6) + (2\\cdot0.8) = 1.0 + 6.0 + 4.8 + 1.6 = \\mathbf{13.4}\\)</p> </li> <li> <p>Surowa Stabilno\u015b\u0107 (Shift 2): \\((20\\cdot0.3) + (7\\cdot0.6) + (10\\cdot0.9) = 6.0 + 4.2 + 9.0 = \\mathbf{19.2}\\)</p> </li> </ol>"},{"location":"#krok-3-wyliczenie-miary-koncowej-z-parametrami-globalnymi","title":"Krok 3: Wyliczenie Miary Ko\u0144cowej z Parametrami Globalnymi","text":"<p>Aplikujemy parametry \\(\\alpha = 1.0\\) oraz \\(\\beta = 2.0\\) do zagregowanych warto\u015bci.</p> \\[ Metric = \\alpha \\cdot (\\text{Surowa Dok\u0142adno\u015b\u0107}) + \\beta \\cdot (\\text{Surowa Stabilno\u015b\u0107 Shift 1} + \\text{Surowa Stabilno\u015b\u0107 Shift 2}) \\] <p>Podstawiaj\u0105c liczby:</p> \\[ Metric = 1.0 \\cdot 58.0 + 2.0 \\cdot (13.4 + 19.2) \\] \\[ Metric = 58.0 + 2.0 \\cdot (32.6) \\] \\[ Metric = 58.0 + 65.2 = \\mathbf{123.2} \\] <p>W tym scenariuszu wysoka warto\u015b\u0107 parametru \\(\\beta\\) (2.0) sprawi\u0142a, \u017ce b\u0142\u0119dy wynikaj\u0105ce z nerwowo\u015bci modelu (skoki predykcji) maj\u0105 decyduj\u0105cy wp\u0142yw na ocen\u0119 ko\u0144cow\u0105, przewa\u017caj\u0105c nad prostym b\u0142\u0119dem trafno\u015bci.</p>"}]}